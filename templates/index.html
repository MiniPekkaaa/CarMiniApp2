<!DOCTYPE html>
<html>
<head>
    <title>Beer App</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <!-- Страница регистрации -->
    <div id="registration" class="container" style="display: none;">
        <h2 class="title">Регистрация</h2>
        <p class="message">Для использования приложения необходимо зарегистрироваться в боте.</p>
        <p class="message">Пожалуйста, напишите боту команду /start и следуйте инструкциям.</p>
    </div>

    <!-- Главное меню -->
    <div id="main_menu" class="container" style="display: none;">
        <h2 class="title">Главное меню</h2>
        <button onclick="handleNewOrder()" class="button">
            Новый заказ
        </button>
        <button onclick="handleMyOrders()" class="button">
            Мои заказы
        </button>
    </div>

    <!-- Выбор типа заказа -->
    <div id="order_type" class="container" style="display: none;">
        <h2 class="title">Выберите тип заказа</h2>
        <button onclick="handleRemainingInput()" class="button">
            Ввести остатки
        </button>
        <button onclick="handleManualInput()" class="button">
            Добавить позиции вручную
        </button>
        <button onclick="showMainMenu()" class="button">
            Главное меню
        </button>
    </div>

    <!-- Ручной ввод позиций -->
    <div id="manual_input" class="container" style="display: none;">
        <h2 class="title">Добавление позиций</h2>
        <select id="product_select" class="select">
            <option value="">Выберите товар</option>
            {% for product in products %}
            <option value="{{ product.id }}" 
                    data-name="{{ product.name }}"
                    data-fullname="{{ product.fullName }}"
                    data-volume="{{ product.volume }}"
                    data-price="{{ product.price }}"
                    data-legal-entity="{{ product.legalEntity }}">
                {{ product.name }} ({{ product.volume }}л) - {{ product.price }}₽
            </option>
            {% endfor %}
        </select>
        <div class="quantity-controls">
            <button onclick="decrementQuantity()" class="button">-</button>
            <input type="number" id="quantity" value="1" min="1" class="quantity-input">
            <button onclick="incrementQuantity()" class="button">+</button>
        </div>
        <button onclick="addToCart()" class="button">Добавить в корзину</button>
        <button onclick="showMainMenu()" class="button">Главное меню</button>
    </div>

    <script src="{{ url_for('static', filename='app.js') }}"></script>
</body>
</html>